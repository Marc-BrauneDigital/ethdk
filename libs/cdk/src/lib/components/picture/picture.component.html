<figure [ngClass]="pictureData.figureClass" class="et-picture-figure">
  <picture [ngClass]="pictureData.pictureClass" class="et-picture-picture">
    @for (source of sources; track trackBySrc($index, source)) {
      <source
        *etLet="combineWithConfig(source | normalizeSource) as s"
        [type]="s.type"
        [attr.srcset]="s.srcset"
        [attr.sizes]="pictureData.sizes"
      />
    }

    @if (pictureData.defaultSrc; as source) {
      <img
        *etLet="combineWithConfig(source | normalizeSource) as s"
        [attr.loading]="pictureData.hasPriority ? 'eager' : 'lazy'"
        [attr.fetchpriority]="pictureData.hasPriority ? 'high' : 'auto'"
        [ngClass]="pictureData.imgClass"
        [attr.srcset]="s.srcset"
        [attr.type]="s.type"
        [attr.alt]="pictureData.alt"
        [attr.width]="pictureData.width"
        [attr.height]="pictureData.height"
        [attr.sizes]="pictureData.sizes"
        class="et-picture-img"
      />
    }
  </picture>

  @if (pictureData.figcaption) {
    <figcaption [ngClass]="pictureData.figcaptionClass" class="et-picture-figcaption">
      {{ pictureData.figcaption }}
    </figcaption>
  }
</figure>
