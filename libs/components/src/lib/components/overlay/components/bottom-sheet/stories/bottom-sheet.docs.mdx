# Bottom sheets

Bottom sheets are surfaces containing supplementary content, anchored to the bottom of the screen.
They are primarily used on mobile.
Bottom sheets display content that complements the screen's primary content. They can be dismissed in order to interact with the underlying content.

## Code examples

Below you can find example code and usefull documentation for the bottom sheet component.

### Basic usage

1. Import the `BottomSheetModule` and add it to your Component / NgModule `imports` array.
2. Inject the `BottomSheetService` service in your component class.

```ts
@Component(...)
export class ExampleComponent {
    constructor(private _bottomSheetService: BottomSheetService) {}
}
```

3. Create a component that will be rendered in the bottom sheet. Alternatively, you can pass a TemplateRef.

```ts
openBottomSheet() {
    this._bottomSheetService.open(ExampleBottomSheetComponent);
}
```

### Passing data to the bottom sheet

You can pass data to the bottom sheet component by using the `BOTTOM_SHEET_DATA` injection token.

```ts
interface BottomSheetData {
    name: string;
}

@Component(...)
export class ExampleComponent {
    constructor(private _bottomSheetService: BottomSheetService) {}

    openBottomSheet() {
        this._bottomSheetService.open<ExampleBottomSheetComponent, BottomSheetData>(ExampleBottomSheetComponent, {
            data: { name: 'John Doe' },
        });
    }
}

@Component({
    selector: 'example-bottom-sheet',
    template: `
        <p>My name is {{ data.name }}</p>
    `
})
export class ExampleBottomSheetComponent {
    constructor(@Inject(BOTTOM_SHEET_DATA) public data: BottomSheetData) {}
}
```

### Returning data from the bottom sheet after it's closed

You can return data from the bottom sheet component by using the `BottomSheetRef` instance

```ts
interface BottomSheetData {
  name: string;
}

interface BottomSheetResult {
  accepted: boolean;
}

@Component(...)
export class ExampleComponent {
    constructor(private _bottomSheetService: BottomSheetService) {}

    openBottomSheet() {
        const ref = this._bottomSheetService.open<ExampleBottomSheetComponent, BottomSheetData, BottomSheetResult>(
            ExampleBottomSheetComponent,
            { data: { name: 'John Doe' } },
        );

        ref.afterClosed().subscribe((result) => {
            console.log(result);
        });
    }
}

@Component({
  selector: 'example-bottom-sheet',
  template: `
    <p>Is your name {{ data.name }}?</p>
    <button (click)="accept()">Accept</button>
    <button (click)="decline()">Decline</button>
  `
})
export class ExampleBottomSheetComponent {
    constructor(
        @Inject(BOTTOM_SHEET_DATA) public data: BottomSheetData,
        private _bottomSheetRef: BottomSheetRef<ExampleBottomSheetComponent, BottomSheetResult>
    ) {}

    accept() {
        this._bottomSheetRef.close({ accepted: true });
    }

    decline() {
        this._bottomSheetRef.close({ accepted: false });
    }
}
```

### Adding the famous "swipe to dismiss" gesture

Inside your bottom sheet component, you can import the `BottomSheetDragHandleComponent`.
This component will add a drag handle to your bottom sheet, allowing the user to swipe it down to dismiss it.
This should always be the first element in your bottom sheet component.

The component is also exported inside the `BottomSheetModule` for if you dont use standalone components yet.

```ts
@Component({
  selector: 'example-bottom-sheet',
  template: `
    <button etBottomSheetDragHandle aria-label="Close sheet"></button>
    <p>Lorem ipsum</p>
  `,
  standalone: true,
  imports: [BottomSheetDragHandleComponent],
})
export class ExampleBottomSheetComponent {}
```

## Accessibility

- Remember to set the `BottomSheetTitleDirective` on the bottom sheet title element (e.g. the first heading). This will set the `aria-labelledby` attribute on the bottom sheet element.
- Bottom sheets should have at least one focusable element.

## Configuration options

The table below does not contain all the options (since storybook does not support passing classes as args).
For a full list of options, please refer to the `BottomSheetConfig` class.

import { ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs';

<ArgsTable story={PRIMARY_STORY} />

#### Related docs:

TODO
